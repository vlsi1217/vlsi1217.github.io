<!DOCTYPE HTML>
<html>
<head>
  <meta name="google-site-verification" content="en_dejusB3O2_8PtG6GlYdYmaTEHr2fTEiIoZidOypY" />
  <meta name="baidu-site-verification" content="7tszoAHV0d" />
  <meta charset="utf-8">
  
  <title>百变千幻衡山云雾十三式</title>
  <meta name="author" content="玉娇龙">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="百变千幻衡山云雾十三式"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="百变千幻衡山云雾十三式" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-62877030-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?null";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">百变千幻衡山云雾十三式</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Rss feed">
			  <i class="fa fa-rss-square"></i>Rss
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header">
  <h1>Wikirize my knowledge</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      Yet another bootstrap theme.
</div>    

		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-25 </div>
			<div class="article-title"><a href="/2015/05/25/Leetcode/Report-Word-Break/" title="O() != TLE. 同样的O(), 但是实际时间还是会导致TLE">Report: Word Break</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h1 id="题目">题目</h1><ul>
<li><a href="http://www.lintcode.com/en/problem/word-break/" target="_blank" rel="external">题目链接</a></li>
</ul>
<h1 id="思考">思考</h1><h2 id="first_trial:_fail">first trial: fail</h2><ul>
<li>这里我还是对DP的状态没搞清楚. 做DP之前, 乃至所有coding之前要想好再动手!</li>
<li>对Substring不熟. 对string不熟. <code>s.substring(a,b+1)</code>表示的是string[a…b]. 所以<code>s.substring(0, s.length()+1)</code>才是返回整个string的.</li>
<li>String的DP表的边界往往是DP[s.length()+1]. 因为<code>DP[0] = true</code>: 表示: 选择string的0个元素也是符合条件的. 然后结果就是返回DP[s.length()]表示选择s的所有元素.</li>
<li>这里的optimally equation搞了很久. 其实公式是知道的, 但是一直不对. 其实就是: DP[i] = DP[j], j &lt; i &amp;&amp; s.substring(j,i+1)在dict内.</li>
<li>代码如下: 第一次写的时候, i,k这样写的话感觉不是很通用. 是在for loop statement的地方写好range, 还是在loop里面+1?  这里因为我的i的范围是1~s.length()<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">boolean</span> wordBreak1st(<span class="keyword">String</span> s, Set&lt;<span class="keyword">String</span>&gt; dict) &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">boolean</span>[] F = <span class="keyword">new</span> <span class="built_in">boolean</span>[s.length() + <span class="number">1</span>];</span><br><span class="line">    F[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; s.length(); ++i) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; i; ++k) &#123;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (F[k] == <span class="keyword">true</span> &amp;&amp; dict.contains(s.substring(k, i + <span class="number">1</span>))) &#123;</span><br><span class="line">            <span class="comment">// System.out.println(s.substring(k, i + 1) + "," + k + "+" + i);</span></span><br><span class="line">            F[i] = <span class="keyword">true</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (F[k] == <span class="keyword">true</span> &amp;&amp; dict.contains(s.substring(k + <span class="number">1</span>, i + <span class="number">1</span>))) &#123;</span><br><span class="line">          F[i] = <span class="keyword">true</span>;</span><br><span class="line">          <span class="comment">// System.out.println(s.substring(k + 1, i + 1) + "," + k + "+" + i);</span></span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for (boolean b : F)</span></span><br><span class="line">    <span class="comment">// System.out.print(b + " ");</span></span><br><span class="line">    <span class="keyword">return</span> F[s.length() - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2nd_trial:_TLE">2nd trial: TLE</h2><ul>
<li>模仿Code Ganker的写法, 特别是边界的定义. 因为如果是像第一次那样定义的话, k还要分2种情况. 代码很麻烦, 特别是对于index处理越多越容易乱或者出错</li>
<li>注意这里的i的范围是一般向的0…s.length()-1. 而j的范围是0…i. 注意这个i是包括的. 因为s.substring(k, i+1). 所以k最大应该取到i, 这样substring就是s[i].</li>
<li>这时候的时间复杂度是O(n^2). 不过如同<a href="http://stackoverflow.com/a/4679775/3984911" target="_blank" rel="external">SOF link</a>: substring()是O(n)操作. 所以其实是: O(n^3)的时间复杂度.</li>
<li>就算这样, 还是TLE!</li>
<li>代码如下:<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">boolean</span> wordBreak2nd(<span class="keyword">String</span> s, Set&lt;<span class="keyword">String</span>&gt; dict) &#123;</span><br><span class="line">   <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">boolean</span>[] F = <span class="keyword">new</span> <span class="built_in">boolean</span>[s.length() + <span class="number">1</span>]; <span class="comment">// string DP always leave 0th as no select always</span></span><br><span class="line">                                              <span class="comment">// true, so the DP space is len+1.</span></span><br><span class="line">   F[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i) &#123; <span class="comment">// notice the init and end of i for states</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt;= i; ++k) &#123;</span><br><span class="line">       <span class="keyword">if</span> (F[k] == <span class="keyword">true</span> &amp;&amp; dict.contains(s.substring(k, i+<span class="number">1</span>))) &#123;</span><br><span class="line">         F[i+<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> F[s.length()];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="4th_trial:_AC">4th trial: AC</h2><ul>
<li>看了九章的参考答案. 发现这时候没有的变成O(n). 那只有prune了. 注意到, F[k]==true的时候, 其实并不用判断所有substring(k, i+1). 因为如果这个substring长于dict内单词的长度就可以不用考虑了. 而且通常来说: word的长度最多25左右. 即i-k+1&lt;=maxlen, 即<code>k&gt;=i-1-maxlen</code>.(注意这里的是i, 不是i+1) 所以可以缩小一点k的取值范围.</li>
<li>代码如下:<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">boolean</span> wordBreak2nd(<span class="keyword">String</span> s, Set&lt;<span class="keyword">String</span>&gt; dict) &#123;</span><br><span class="line">   <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="built_in">boolean</span>[] F = <span class="keyword">new</span> <span class="built_in">boolean</span>[s.length() + <span class="number">1</span>]; <span class="comment">// string DP always leave 0th as no select always</span></span><br><span class="line">                                              <span class="comment">// true, so the DP space is len+1.</span></span><br><span class="line">   F[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i) &#123; <span class="comment">// notice the init and end of i for states</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt;= i; ++k) &#123;</span><br><span class="line">       <span class="keyword">if</span> (F[k] == <span class="keyword">true</span> &amp;&amp; dict.contains(s.substring(k, i+<span class="number">1</span>))) &#123;</span><br><span class="line">         <span class="comment">// System.out.println(s.substring(k, i) + "," + k + "+" + i);</span></span><br><span class="line">         F[i+<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// for (boolean b : F)</span></span><br><span class="line">   <span class="comment">// System.out.print(b + " ");</span></span><br><span class="line">   <span class="keyword">return</span> F[s.length()];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="总结">总结</h1><ol>
<li>DP问题一定要想清楚state和optimally equation在写代码.</li>
<li>loop的范围, 以及得到state的方式一定要设计好. 例如这里的是F[i+1]还是F[i]就很大差别. 因为这里要表示的是: 取string前i个元素是成立的. 所以substring(k, i+1), 然后F[i+1]. 这样就是i个元素的state成立, 于是接下来就可以F[k] &amp;&amp; substring. 因为这样substring的下确界k正好是kth元素. eg: F[4] &amp;&amp; substring(4,7).<figure class="highlight sml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l i n t c o d e</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="type">F</span>[<span class="number">4</span>] = <span class="literal">true</span>, <span class="built_in">substring</span>(<span class="number">4</span>, <span class="number">7</span>+<span class="number">1</span>) =&gt; <span class="type">F</span>[<span class="number">7</span>+<span class="number">1</span>] = <span class="literal">true</span>. 对于lintcode的例子.</span><br><span class="line"><span class="type">F</span>[<span class="number">7</span>] = <span class="literal">true</span>, <span class="built_in">substring</span>(<span class="number">7</span>, <span class="number">7</span>+<span class="number">1</span>) =&gt; <span class="type">F</span>[<span class="number">7</span>+<span class="number">1</span>] = <span class="literal">true</span>.  对于<span class="type">ProgramCreek</span>的例子.</span><br></pre></td></tr></table></figure>
</li>
</ol>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/25/Leetcode/Report-Word-Break/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-24 </div>
			<div class="article-title"><a href="/2015/05/24/Leetcode/Report-Triangle/" title="九章算法的学习DP的经典例子">Report: Triangle Min Path Sum</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h1 id="题目">题目</h1><h1 id="思路">思路</h1><h1 id="问题">问题</h1><h2 id="first_trial_:_TLE">first trial : TLE</h2><ul>
<li><p>如果使用简单的recursion会出现TLE, 代码如下:</p>
  <figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> class Solution &#123;</span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * @param triangle: a list of lists of integers.</span><br><span class="line">     * @return: An integer, minimum path sum.</span><br><span class="line">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> minimumTotal(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="built_in">triangle</span>) &#123;</span><br><span class="line">        <span class="comment">// write your code here</span></span><br><span class="line">        <span class="built_in">int</span>[] <span class="built_in">min</span> = <span class="keyword">new</span> <span class="built_in">int</span>[]&#123;Integer.MAX_VALUE&#125;;</span><br><span class="line">        dfs(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">min</span>, <span class="built_in">triangle</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> dfs(<span class="built_in">int</span> x, <span class="built_in">int</span> y, <span class="built_in">int</span> sum, <span class="built_in">int</span>[] <span class="built_in">min</span>, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <span class="built_in">triangle</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="built_in">triangle</span>.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="built_in">min</span>[<span class="number">0</span>] = Math.<span class="built_in">min</span>(<span class="built_in">min</span>[<span class="number">0</span>], sum);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(x+<span class="number">1</span>, y, sum+<span class="built_in">triangle</span>.<span class="built_in">get</span>(x).<span class="built_in">get</span>(y), <span class="built_in">min</span>, <span class="built_in">triangle</span>);</span><br><span class="line">        dfs(x+<span class="number">1</span>, y+<span class="number">1</span>, sum+<span class="built_in">triangle</span>.<span class="built_in">get</span>(x).<span class="built_in">get</span>(y), <span class="built_in">min</span>, <span class="built_in">triangle</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Lintcode里面TLE的页面如下: <img src="http://7xj2zx.com1.z0.glb.clouddn.com/Lintcode_TLE_Triangle.JPG" alt="TLE_lintcode"></li>
<li>有几个要注意的地方:<ol>
<li>因为Lintcode是给了class, 要求写method. 虽然可以有helper method, 例如这里的dfs. 但是因为triangle不是field, 只是一个param, 所以必须要传给helper当param. 不然用不了.</li>
<li>Lintcode 的 test case是看不到全部的… 所以也不能copy放到eclipse里面算了. 但是有个基本常识就是一般不能有超过20层的recursion. 所以尽量不用recursion才行.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="2nd_trial:_pass">2nd trial: pass</h2><ul>
<li>看到这种Divide and Conquer的问题自然想到使用DP解决. 这样可以使用重复计算的部分, 而且避免递归. 注意到: 这是一个找min的值的问题. 自然是DP</li>
</ul>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/24/Leetcode/Report-Triangle/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-24 </div>
			<div class="article-title"><a href="/2015/05/24/Leetcode/Report-Jump-Game-I/" title="经典的DP, Greedy问题">Report: Jump Game I</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <blockquote>
<ul>
<li>学习了经典的DP<ul>
<li>还有<code>local, global最优解DP</code></li>
<li>以及变动边界的loop</li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="题目">题目</h1><ul>
<li>题目链接](<a href="http://www.lintcode.com/en/problem/jump-game/" target="_blank" rel="external">http://www.lintcode.com/en/problem/jump-game/</a>)</li>
<li>好的test case: <code>{0,8,2,0,9}</code>,<code>{5, 8, 3, 0, 6, 7, 9, 6, 3, 4, 5, 2, 0, 6, 2, 6, 7, 10, 8, 0}</code></li>
</ul>
<h1 id="思考">思考</h1><h2 id="first_trial:_fail">first trial: fail</h2><ul>
<li>状态: boolean F[i] 表示能否从起点到达position i.</li>
<li>一开始我的optimally equation想错了: 我想的是: F[i] = F[k] &amp;&amp; A[k]&gt;= abs(k-i). 这里的k是0…A.length. 在一开始的test case可以过, 但是<code>{5, 8, 3, 0, 6, 7, 9, 6, 3, 4, 5, 2, 0, 6, 2, 6, 7, 10, 8, 0}</code>就错了. 应该是true, 但我返回false.<ul>
<li>这里有2个错误, 一开始我想的是会不会有先跳到远的, 然后跳回来近的, 再跳到终点. 实际上是不会的, 因为这里的A[i]表示的是从position i, 能跳的<strong>最远距离</strong>, 而不是能跳的距离(像<strong>大富翁</strong>). 所以k不应该loop全部node, 而是小于i的所有node.</li>
<li>更严重的错误是: F[i]表示的是<strong>是否</strong>能从起点到达. 所以只要能到达, 就OK了. 也就是说: 只要true, 就停止loop. 这也是导致我的这个code fail的原因.</li>
</ul>
</li>
</ul>
<h2 id="second_trial:_OK">second trial: OK</h2><ul>
<li>这一次, 我还是DP, 不过改好了optimally equation, 即只要发现F[i]==true就break loop.</li>
<li>但是这时候的时间是O(n**2). 因为要loop每一个node, 每一个node的内循环最坏情况是loop完所有小于i的k. 所以<code>n+n-1+n-2+...+1 = O(n^2)</code>. 而且空间是O(n).</li>
</ul>
<h2 id="third_trial:_Failed">third trial: Failed</h2><ul>
<li>这里还是使用Greedy最好, 因为只要最远距离超过position就行了, 那就看每一步能跳到的最远距离就行了. 实现的时候是使用经典的: <strong>local/global optimal</strong>. 再次复习一下这种使用2个DP表来解决问题的DP方法. 即local DP记录: 以目前node出发能得到的最优解. Global则是记录历史到目前node位置能得到的最优解.</li>
<li>还要复习一下Greedy, 我之前的理解不对:<ul>
<li>错误: 之前想的是, Greedy不就是从位置1跳最远距离, 例如跳到位置5, 然后再从位置5跳最远距离. 觉得这种Greedy太Greedy了. 很有可能, 位置5的A[5]=0. 那就没得跳了.</li>
<li>实际上, Greedy是针对每一个node都考虑一遍Greedy. 即: 1-5, 2-4-7, 3-9-dest.</li>
</ul>
</li>
<li>实现上面, Ganker只用了O(1)的空间. 我则是使用通用的DP表, 记录每一个node的state.</li>
<li>代码<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">boolean</span> <span class="title">jumpLocalGlobalDP</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (A == <span class="keyword">null</span> || A.length == <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span>[] local = <span class="keyword">new</span> <span class="keyword">int</span>[A.length];</span><br><span class="line">    <span class="keyword">int</span>[] global = <span class="keyword">new</span> <span class="keyword">int</span>[A.length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// init base condition</span></span><br><span class="line">    local[<span class="number">0</span>] = A[<span class="number">0</span>];</span><br><span class="line">    global[<span class="number">0</span>] = A[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// build the local/global DP table</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; A.length; ++i) &#123;</span><br><span class="line">      local[i] = A[i] + i;</span><br><span class="line">      global[i] = Math.max(global[i-<span class="number">1</span>], local[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ans</span></span><br><span class="line">    <span class="keyword">if</span> (global[A.length-<span class="number">1</span>] &gt;= A.length - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Forth_trial:_AC">Forth trial: AC</h2><ul>
<li>刚才的做法是错误的, 例如{0,8,2,0,9}.</li>
<li>仔细研究一下Ganker的写法, 他并不是简单的loop, 而是会改变boundary的loop. 这个很有意思. 在使用一个queue实现的BFS模版里面, 有个很重要的点就是queue.size()不能作为boundary, 要int size = queue.size(). 因为queue会在loop里面改变大小. 而这里之所以要使用变动的boundary是因为, 如果当前node只考虑能打到的情况. 例如这个例子里面, node 1是达不到的.</li>
<li>所以很重要的一点是loop的范围应该是:<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for <span class="comment">(int i = 1; i &lt;= global[i-1] &amp;&amp; i &lt; A.length; ++i)</span></span><br></pre></td></tr></table></figure>
</li>
</ul>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/24/Leetcode/Report-Jump-Game-I/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-23 </div>
			<div class="article-title"><a href="/2015/05/23/Leetcode/Unit7-9chap-Graph/" title="田老师第二课: 学习总结Graph相关的面试题目">Unit7-9chap-Graph</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  
	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/23/Leetcode/Unit7-9chap-Graph/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-23 </div>
			<div class="article-title"><a href="/2015/05/23/Leetcode/Unit6-9chap-List/" title="田老师的第一课: list题目总结">Unit6-9chap-List</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  
	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/23/Leetcode/Unit6-9chap-List/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-22 </div>
			<div class="article-title"><a href="/2015/05/22/Leetcode/Unit5-9chap-DP2/" title="段誉最后一课: 总结DP问题的后2个常见题型">Unit 5 NineChap : Dynamic programming - part I</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <blockquote>
<ul>
<li>今天继续讲Dynamic Programming.<ul>
<li>后2个常见的DP类型题: Two Sequence DP和Backpack.</li>
</ul>
</li>
</ul>
</blockquote>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/22/Leetcode/Unit5-9chap-DP2/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-22 </div>
			<div class="article-title"><a href="/2015/05/22/OS/CircularQueue/" title="整理一下Scott的Circular Queue的设计">CircularQueue</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h2 id="Circular_Queue的作用">Circular Queue的作用</h2><ul>
<li>在SRAM里面相当于是无限大的buffer.</li>
<li>在一般来说是作为asynch thread communication. 见<a href="http://www.cs.hmc.edu/~geoff/classes/hmc.cs105.201501/labs/lab05-ringbuf/ringbuf.pdf" target="_blank" rel="external">CS105: Harvey Mudd</a></li>
</ul>
<h2 id="Circular_Queue的区别">Circular Queue的区别</h2><ul>
<li>wiki已经写了circular queue的几种实现方式, 区别在于判断empty/full的方式:<ol>
<li>head/tail+1 empty slot<ul>
<li>这个实现在: Ring Buffer_Anders Kaloer</li>
</ul>
</li>
<li>head/tail+count<ul>
<li>一般都是用这个写, 因为简单, 而且semaphore其实就使这个count. 表示的是: 当前queue里面保存的item数量.</li>
<li>Scott的Firmware里面的也是这样做的.</li>
<li>我参考的Harshkn的写法. 改了一点. 主要是count在满了之后就不动了. 然后在push/pop里面加入了判断error的代码, 来自于kqchen.</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="实现代码">实现代码</h2><h3 id="1-_使用Count">1. 使用Count</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * https://gist.github.com/harshkn/909546</span><br><span class="line"> * C Implementation of simple circular buffer, Functionality provided are add to queue, read latest</span><br><span class="line"> *</span><br><span class="line"> * Implementation: head, tail, and count. The major different between AndersKaloer/Harshkn is the way to detect full/empty.</span><br><span class="line"> * The former trade with an empty slot, the latter use additional int-&gt;count. I review this because this is easier and Scott uses it too.</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line">typedef <span class="keyword">struct</span> circular_buffer &#123;</span><br><span class="line">	void *buffer;     <span class="comment">// data buffer</span></span><br><span class="line">	void *buffer_end; <span class="comment">// end of data buffer</span></span><br><span class="line">	size_t capacity;  <span class="comment">// maximum number of items in the buffer</span></span><br><span class="line">	size_t count;     <span class="comment">// number of items in the buffer</span></span><br><span class="line">	size_t sz;        <span class="comment">// size of each item in the buffer</span></span><br><span class="line">	void *head;       <span class="comment">// pointer to head</span></span><br><span class="line">	void *tail;       <span class="comment">// pointer to tail</span></span><br><span class="line">&#125; circular_buffer;</span><br><span class="line"></span><br><span class="line">void cb_init(circular_buffer *cb, size_t capacity, size_t sz) &#123;</span><br><span class="line">	cb-&gt;buffer = malloc(capacity * sz);</span><br><span class="line">	<span class="keyword">if</span> (cb-&gt;buffer == NULL) &#123;</span><br><span class="line">		<span class="comment">// handle error</span></span><br><span class="line">	&#125;</span><br><span class="line">	cb-&gt;buffer_end = (<span class="keyword">char</span> *) cb-&gt;buffer + capacity * sz;</span><br><span class="line">	cb-&gt;capacity = capacity;</span><br><span class="line">	cb-&gt;count = <span class="number">0</span>;</span><br><span class="line">	cb-&gt;sz = sz;</span><br><span class="line">	cb-&gt;head = cb-&gt;buffer;</span><br><span class="line">	cb-&gt;tail = cb-&gt;buffer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void cb_free(circular_buffer *cb) &#123;</span><br><span class="line">	free(cb-&gt;buffer);</span><br><span class="line">	<span class="comment">// clear out other fields too, just to be safe</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void cb_push_back(circular_buffer *cb, <span class="keyword">const</span> void *item) &#123;</span><br><span class="line">	<span class="keyword">if</span> (cb-&gt;count == cb-&gt;capacity) &#123;</span><br><span class="line">		printf(<span class="string">"%s, %d: cb push back error. \n"</span>, __FILE__, __LINE__);</span><br><span class="line"><span class="comment">//		return;</span></span><br><span class="line">	&#125;</span><br><span class="line">	memcpy(cb-&gt;head, item, cb-&gt;sz);</span><br><span class="line">	printf(<span class="string">"push data = %d\n"</span>, *(<span class="keyword">char</span> *) cb-&gt;head);</span><br><span class="line">	cb-&gt;head = (<span class="keyword">char</span>*) cb-&gt;head + cb-&gt;sz;</span><br><span class="line">	<span class="keyword">if</span> (cb-&gt;head == cb-&gt;buffer_end)</span><br><span class="line">		cb-&gt;head = cb-&gt;buffer;</span><br><span class="line">	cb-&gt;count = cb-&gt;count == cb-&gt;capacity ? cb-&gt;count : cb-&gt;count + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void cb_pop_front(circular_buffer *cb, void *item) &#123;</span><br><span class="line">	<span class="keyword">if</span> (cb-&gt;count == <span class="number">0</span>) &#123;</span><br><span class="line">		printf(<span class="string">"%s, %d: cb_pop_front: empty cb.\n"</span>, __FILE__, __LINE__);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	memcpy(item, cb-&gt;tail, cb-&gt;sz);</span><br><span class="line">	printf(<span class="string">"pop data = %d\n"</span>, *(<span class="keyword">char</span> *) cb-&gt;tail);</span><br><span class="line">	cb-&gt;tail = (<span class="keyword">char</span>*) cb-&gt;tail + cb-&gt;sz;</span><br><span class="line">	<span class="keyword">if</span> (cb-&gt;tail == cb-&gt;buffer_end)</span><br><span class="line">		cb-&gt;tail = cb-&gt;buffer;</span><br><span class="line">	cb-&gt;count--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cb_empty(circular_buffer *cb) &#123;</span><br><span class="line">	<span class="keyword">if</span> (cb-&gt;count == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cb_full(circular_buffer *cb) &#123;</span><br><span class="line">	<span class="keyword">return</span> cb-&gt;count == cb-&gt;capacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printbuf(circular_buffer *cb) &#123;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; i &lt; cb-&gt;capacity; ++i)</span><br><span class="line">		printf(<span class="string">"%d "</span>, *(<span class="keyword">char</span> *) (cb-&gt;buffer + i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * https://github.com/kqchen/workspace/blob/21ab1c18dbf6c674437b0c89bb313ddbfc2de85c/hello/circular.c</span><br><span class="line"> */</span></span><br><span class="line">void cb_print(circular_buffer *cb) &#123;</span><br><span class="line">	<span class="keyword">int</span> cnt = cb-&gt;count;</span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (cb-&gt;count == <span class="number">0</span>) &#123;</span><br><span class="line">			printf(<span class="string">"%s, %d: cb is empty now.\n"</span>, __FILE__, __LINE__);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		printf(<span class="string">"cb-&gt;tail=0x%x, cb-&gt;head=0x%x, cnt = %d\n"</span>, cb-&gt;tail, cb-&gt;head,</span><br><span class="line">				cnt);</span><br><span class="line">		cnt--;</span><br><span class="line">	&#125; <span class="keyword">while</span> (cnt &gt; <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * testing the ring buffer</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">int</span> main() &#123;</span><br><span class="line">	circular_buffer tony; <span class="comment">// a holder</span></span><br><span class="line">	cb_init(&amp;tony, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">for</span> (; i &lt; <span class="number">20</span>; ++i) &#123;</span><br><span class="line">		cb_push_back(&amp;tony, &amp;i);</span><br><span class="line"><span class="comment">//		printf("%d with count: %d, data = %d\n", cb_full(&amp;tony), tony.count, i);</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printf(<span class="string">"\nafter filling ---\n"</span>);</span><br><span class="line">	cb_print(&amp;tony);</span><br><span class="line"><span class="comment">//	printf("after filling ---\n");</span></span><br><span class="line"><span class="comment">//	printbuf(&amp;tony);</span></span><br><span class="line">	<span class="keyword">char</span> result;</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; j &lt; <span class="number">6</span>; ++j) &#123;</span><br><span class="line">		cb_pop_front(&amp;tony, &amp;result);</span><br><span class="line"><span class="comment">//		printf("%d with count: %d, result = %d\n", cb_empty(&amp;tony), tony.count, result);</span></span><br><span class="line">	&#125;</span><br><span class="line">	printf(<span class="string">"\nafter pop ---\n"</span>);</span><br><span class="line">	cb_print(&amp;tony);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/22/OS/CircularQueue/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-20 </div>
			<div class="article-title"><a href="/2015/05/20/Leetcode/Report-BinaryTreeSerialization/" title="A collection of Hello World applications from helloworld.org.">Binary Tree Serialization 解题报告</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>标签（空格分隔）： lintcode BFS BinaryTree</p>
<hr>
<h2 id="题目">题目</h2><ul>
<li><a href="http://www.lintcode.com/en/problem/binary-tree-serialization/" target="_blank" rel="external">link点我</a></li>
<li>Example<br>  An example of testdata: Binary tree {3,9,20,#,#,15,7}, denote the following structure, Our data serialization use bfs traversal:<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#20351;&#29992;code block&#21487;&#20197;&#20445;&#30041;&#26684;&#24335;&#10;  3&#10; / \&#10;9  20&#10;  /  \&#10; 15   7</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="分析">分析</h2><h3 id="Serialize">Serialize</h3><ul>
<li>注意这个是Lintcode的Serialize, 和Leetcode的区别在于他使用的是BFS. 而后者则是使用的pre-order DFS.</li>
<li>null object 和 null的区别.</li>
<li>flag的设计: 要有初始值, 在进入循环的时候update, 对于每一个节点再次update. 那么当这一层结束后就是有效的flag.</li>
</ul>
<h3 id="De-serialize">De-serialize</h3><ul>
<li>还是使用BFS解决. 和Pre-order的de-serialize一样, 和各自的Serialize有一个一一对应的关系.</li>
<li>第一次写的时候出现idx超出array size的问题. 这是为什么呢? 因为我在判断token[idx]的时候居然判断了4次. 因为每一次判断都要idx++. 然后我把4个if并成2个if…else就OK了.</li>
<li>注意这个时候的while loop判断不是parents queue是否为空, 而是判断token[] array走完没有. 我一开始这里搞错了, 居然去判断string走完没有. 注意string就是char Array. 例如{3, 9, 20, #, #, 15, 7}, 这个string的length是21. 而token[]则是7.</li>
<li>还有注意这里update parents queue的时候要注意. 这里的做法是对于”#”, 则不加入null到queue. 不然queue的size()就不对了. 因为这里不用traverse null node.</li>
</ul>
<h2 id="code">code</h2><h3 id="1-_Serialize_Binary_Tree_:_BFS遍历">1. Serialize Binary Tree : BFS遍历</h3><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function">String <span class="title">serializeBFS</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"#"</span>;</span><br><span class="line">    String ans = <span class="string">""</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; <span class="keyword">parents</span> = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">parents</span>.offer(root);</span><br><span class="line">    <span class="keyword">boolean</span> end = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span> (!<span class="keyword">parents</span>.isEmpty() &amp;&amp; !end) &#123;</span><br><span class="line">        end = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> size = <span class="keyword">parents</span>.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            TreeNode head = <span class="keyword">parents</span>.poll();</span><br><span class="line">            <span class="comment">// update result</span></span><br><span class="line">            String thisnode = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">                thisnode = <span class="string">"#"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                thisnode = head.value + <span class="string">""</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (ans.length() == <span class="number">0</span>) &#123;</span><br><span class="line">                ans = ans + thisnode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ans = ans + <span class="string">", "</span> + thisnode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// update queue</span></span><br><span class="line">            <span class="keyword">if</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!head.isLeaf())</span><br><span class="line">                    end = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">parents</span>.offer(head.left);</span><br><span class="line">                <span class="keyword">parents</span>.offer(head.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>De-serialize binary tree<br><del>还是直接link github代码好了.</del><br>试了几个方法. 最后还是觉得使用gist-it方便. 但是前提是代码不能有中文. 否则python解析不了.</li>
</ol>
<script src="http://gist-it.appspot.com/https://github.com/vlsi1217/leetlint/blob/master/nineChap3_BST/ValidateBST.java">
</script>





	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/20/Leetcode/Report-BinaryTreeSerialization/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-13 </div>
			<div class="article-title"><a href="/2015/05/13/Leetcode/Unit4_9chap-DP1/" title="A collection of Hello World applications from helloworld.org.">Unit 4 NineChap : Dynamic programming - part I</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <blockquote>
<ul>
<li>今天开始讲Dynamic Programming.<ul>
<li>先讲的前2个常见的DP类型题: Matrix DP和Sequence DP.</li>
<li>下一节课再讲后2个DP类型题: 2 Sequencee DP和Backpack.</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="DP的实现方式:">DP的实现方式:</h2><ol>
<li>top-down的recursion: memorization search</li>
<li>bottom-up的iteration或者recursion.</li>
</ol>
<h2 id="如何想到使用DP">如何想到使用DP</h2><ul>
<li>虽然和recursion都是使用了子问题解决大问题. 不过动归是一种算法思想, 而递归则如同Algs4书本所说: 是一种organize代码的方式.</li>
<li>我感觉段老师这里所说的动归是指严格的动归, 他将memorization search作为广义的动归, 到底还是search.</li>
<li>如何想到使用动归<ul>
<li>满足其中一个条件:<ol>
<li>求极值</li>
<li>判断是否存在</li>
<li>Count(*)</li>
</ol>
</li>
<li>can not sort/swap. 参考LCS(subsequence vs substring)</li>
</ul>
</li>
</ul>
<h2 id="动归4要素">动归4要素</h2><ol>
<li>状态 : 关键的关键. 这个靠经验(参见: <a href="http://blog.csdn.net/liuqiyao_01/article/details/8765812" target="_blank" rel="external">100个动规方程</a>) 相当于几何题目的辅助线. 往往不是一次成功, 要反复的实验. 经典的例子是: LIS.</li>
<li>递推式 : 表述state之间的联系: 如何使用小state来算大state. 这里的大小是段老师定义的. 例如unique path, 小state就是距离起点近的, 大state就是举例起点近, 或者说举例终点近的.</li>
<li>初始条件 : 最极限的小状态. 例如2D DP表就是初始化第一行/第一列.</li>
<li>答案 : 最大的状态.</li>
</ol>
<h2 id="面试最常见的4种类型">面试最常见的4种类型</h2><ol>
<li>Matrix DP(10%)</li>
<li>Sequence (40%)</li>
<li>2 Sequence (40%) —- 全都可以用rolling DP!</li>
<li>Backpack (10%)  —- 可以参考<em>背包九讲2.0</em></li>
</ol>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/13/Leetcode/Unit4_9chap-DP1/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2015-05-09 </div>
			<div class="article-title"><a href="/2015/05/09/Leetcode/Unit3_9chap-BST-DC/" title="A collection of Hello World applications from helloworld.org.">Unit 3 NineChap : Binary Tree-Divide &amp; Conquer</a></div>						
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h2 id="Binary_Tree的2个重点:_DFS和BFS-">Binary Tree的2个重点: DFS和BFS.</h2><h3 id="Traverse">Traverse</h3><blockquote>
<p>必须会iteration. 可以先背下来.</p>
<ul>
<li>Pre</li>
<li>in -&gt; Iterator题目</li>
<li>Post</li>
</ul>
</blockquote>
<h2 id="Divide_and_Conquer">Divide and Conquer</h2><blockquote>
<p>Binary Tree里面的DC和Traverse都是recursion, 本质的区别是D&amp;C的recursion有return, 而Traverse里面的recursion仅仅是用来走Tree, 并不需要return.</p>
</blockquote>
<h3 id="p1-_Binary_Tree_Maximum_Path_Sum">p1. Binary Tree Maximum Path Sum</h3><ul>
<li>3721 先用D&amp;C.</li>
</ul>
<h3 id="p2-_LCA_I/II-_(区别是有没有parent_pointer)">p2. LCA I/II. (区别是有没有parent pointer)</h3>
	
	</div>
	
  
</div>
	<a type="button" href="/2015/05/09/Leetcode/Unit3_9chap-BST-DC/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
          <li class="prev disabled"><a><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
        

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/2/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			<div class="form-group has-success has-feedback">
  <form action="//google.com/search" method="get" accept-charset="utf-8" >
    <input type="search" name="q" results="0" placeholder="Search" class="form-control">
    <input type="hidden" name="q" value="site:vlsi1217.github.io">	
  </form>
</div>

		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Demo/">Demo<span>1</span></a></li>
		
			<li><a href="/categories/Interview/">Interview<span>18</span></a></li>
		
			<li><a href="/categories/Leetcode/">Leetcode<span>4</span></a></li>
		
			<li><a href="/categories/OA/">OA<span>3</span></a></li>
		
			<li><a href="/categories/OS/">OS<span>1</span></a></li>
		
			<li><a href="/categories/Thinking/">Thinking<span>2</span></a></li>
		
			<li><a href="/categories/Web/">Web<span>1</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/NineChap/">NineChap<span>11</span></a></li>
		
			<li><a href="/tags/mooc/">mooc<span>1</span></a></li>
		
			<li><a href="/tags/DC/">DC<span>2</span></a></li>
		
			<li><a href="/tags/BinaryTree/">BinaryTree<span>1</span></a></li>
		
			<li><a href="/tags/OA/">OA<span>1</span></a></li>
		
			<li><a href="/tags/DP/">DP<span>5</span></a></li>
		
			<li><a href="/tags/webApp/">webApp<span>1</span></a></li>
		
			<li><a href="/tags/Greedy/">Greedy<span>1</span></a></li>
		
			<li><a href="/tags/ACM/">ACM<span>2</span></a></li>
		
			<li><a href="/tags/POJ/">POJ<span>1</span></a></li>
		
			<li><a href="/tags/misc/">misc<span>1</span></a></li>
		
			<li><a href="/tags/Ladder/">Ladder<span>4</span></a></li>
		
			<li><a href="/tags/List/">List<span>1</span></a></li>
		
			<li><a href="/tags/BFS/">BFS<span>1</span></a></li>
		
			<li><a href="/tags/Leetcode/">Leetcode<span>16</span></a></li>
		
			<li><a href="/tags/demo/">demo<span>1</span></a></li>
		
			<li><a href="/tags/Lintcode/">Lintcode<span>4</span></a></li>
		
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2015/05/25/Leetcode/Report-Word-Break/"  title="O() != TLE. 同样的O(), 但是实际时间还是会导致TLE" ><i class="fa fa-file-o"></i>Report: Word Break...</a>
      </li>
    
      <li>
        <a href="/2015/05/24/Leetcode/Report-Triangle/"  title="九章算法的学习DP的经典例子" ><i class="fa fa-file-o"></i>Report: Triangle Min Path S...</a>
      </li>
    
      <li>
        <a href="/2015/05/24/Leetcode/Report-Jump-Game-I/"  title="经典的DP, Greedy问题" ><i class="fa fa-file-o"></i>Report: Jump Game I...</a>
      </li>
    
      <li>
        <a href="/2015/05/23/Leetcode/Unit7-9chap-Graph/"  title="田老师第二课: 学习总结Graph相关的面试题目" ><i class="fa fa-file-o"></i>Unit7-9chap-Graph...</a>
      </li>
    
      <li>
        <a href="/2015/05/23/Leetcode/Unit6-9chap-List/"  title="田老师的第一课: list题目总结" ><i class="fa fa-file-o"></i>Unit6-9chap-List...</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/wzpan/freemind/" title="Freemind's Github repository." target="_blank"]);">Freemind</a></li>
	
		<li><i class="fa fa-code"></i><a href="n00tc0d3r.blogspot.com" title="N00t." target="_blank"]);">N00t题解</a></li>
	
		<li><i class="fa fa-code"></i><a href="http://www.shuatiblog.com/" title="9chap." target="_blank"]);">Coding monkey</a></li>
	
		<li><i class="fa fa-code"></i><a href="http://www.cnblogs.com/lautsie/" title="" target="_blank"]);">阿牧遥</a></li>
	
		<li><i class="fa fa-code"></i><a href="http://www.fgdsb.com/" title="a" target="_blank"]);">fgdsb</a></li>
	
		<li><i class="fa fa-coffee"></i><a href="http://freemind.pluskid.org/misc/knowledge-accumulate/" title="" target="_blank"]);">pluskid</a></li>
	
		<li><i class="fa fa-coffee"></i><a href="http://www.joelonsoftware.com/" title="" target="_blank"]);">joel大神</a></li>
	
		<li><i class="fa fa-coffee"></i><a href="http://mindhacks.cn/" title="" target="_blank"]);">暗时间</a></li>
	
		<li><i class="fa fa-coffee"></i><a href="http://coolshell.cn/articles/4990.html" title="" target="_blank"]);">左耳朵耗子</a></li>
	
		<li><i class="fa fa-coffee"></i><a href="http://hehejun.blogspot.com/" title="" target="_blank"]);">呵呵君blog</a></li>
	
		<li><i class="fa fa-coffee"></i><a href="http://adn.botao.hu/" title="" target="_blank"]);">胡波涛</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2015 玉娇龙
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
var disqus_shortname = 'vlsi1217';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62877030-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
   </html>
